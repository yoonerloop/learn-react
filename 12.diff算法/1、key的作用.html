<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="../favicon.ico" />
    <title>Title</title>
</head>
<body>
<!--准备一个容器-->
<div id="text"></div>
<!--引入react核心库-->
<script src="https://unpkg.com/react@17/umd/react.development.js" crossorigin></script>
<!--引入react-dom，支持react的dom操作-->
<script src="https://unpkg.com/react-dom@17/umd/react-dom.development.js" crossorigin></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
<script type="text/babel">
    class App2 extends React.Component {

        state = {
            persions:[
                {id:1,name:'张三'},
                {id:2,name:'李四'}
            ]
        }

        render() {
            return (
               <div>
                   <h2>使用index：</h2>
                   <button onClick={this.add}>添加一个人</button>
                   <ul>
                       {this.state.persions.map((item,index)=>{
                           {/*  以index为key会引发一些问题，在某些情下很耗性能*/}
                           return <li key = {index}>{item.id}-----{item.name}</li>
                       })}
                   </ul>
                   <hr/>
                   <hr/>

                   <h2>使用ID</h2>
                   <button onClick={this.add}>添加一个人</button>
                   <ul>
                       {this.state.persions.map((item,index)=>{
                           {/*  以index为key会引发一些问题，在某些情下很耗性能*/}
                           return <li key = {index}>{item.id}-----{item.name}</li>
                       })}
                   </ul>
               </div>
            )
        }

        add=()=>{
            const {persions} = this.state
            const p = {id:persions.length+1,name:'小王'}
            this.setState({persions: [p,...persions]})
        }
    }
    ReactDOM.render(<App />, document.getElementById('text'));
</script>
</body>
